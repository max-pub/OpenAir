<template>
    <h-stack>
        <main>
            <textarea>
select e 
from ehr e 
order by e/time_created 
limit 100 
            </textarea>
            <buttons>
                <button on-tap='execute'>execute</button>
                <button on-tap='output'>store</button>
            </buttons>
        </main>
        <app-output id='output'></app-output>
    </h-stack>
</template>


<script>
    class {
        async execute() {
            let query = this.$('textarea').value;
            console.log('execute', query);
            // console.log('res', await Mediator.EHR().query.execute(query).JSON());
            this.$('#output').value =  Mediator.EHR().query.execute(query);
        }
    }
</script>


<style>
    h-stack {
        display: flex;
        height: 100%;
    }

    main {
        width: 400px;
    }

    #output {
        flex: 1;
    }

    textarea {
        background: #444;
        color: white;
        width: 100%;
        height: calc(100% - 50px);
        resize: none;
        border: none;
    }
    buttons{display: block; text-align: center;}
    button {
        background: #444;
        color: white;
        border: 1px solid silver;
        padding: 5px;
    }
</style>